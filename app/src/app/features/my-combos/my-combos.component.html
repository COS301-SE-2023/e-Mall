<app-navbar></app-navbar>
<ion-content class="global-ion-content">
  <div class="ion-content-wrapper">
    <div class="side-nav-container" *ngIf="profile$ | async as profile">
      <app-customer-profile-sidenav [profile]="{ username: profile.username }">
      </app-customer-profile-sidenav>
    </div>
    <div *ngIf="comboData$ | async as comboData" class="combos-container">
      <h2>My Collections</h2>

      <div class="row-combos-container-cards">
        <ng-container>
          <div class="row" style="grid-auto-rows: auto">
            <div class="combo-card">
              <ion-card class="collage-card" (click)="goToWishlist()">
                <div class="collage-images">
                  <div class="image-container">
                    <img [src]="wishlistImages[0]" alt="Image 1" />
                  </div>
                  <div class="image-container">
                    <img [src]="wishlistImages[1]" alt="Image 2" />
                  </div>
                  <div class="image-container">
                    <img [src]="wishlistImages[2]" alt="Image 3" />
                  </div>
                  <div class="image-container">
                    <img [src]="wishlistImages[3]" alt="Image 4" />
                  </div>
                </div>
                <ion-card-header>
                  <ion-card-title>Wishlist</ion-card-title>
                </ion-card-header>
              </ion-card>
            </div>
          </div>
        </ng-container>
        <div *ngIf="comboData?.length === 0">
          <div class="combos-container-nocards">
            <div class="product-card-no">
              <img
                src="assets\images\no-image.jpeg"
                alt="No Product Found"
                class="nimage"
              />
            </div>
            <h3>Oops! It's empty here!</h3>
            <p>Create combos by clicking the plus icon on a product.</p>
          </div>
        </div>
        <div *ngIf="comboData?.length !== 0">
          <div
            class="col-md-3 col-12 combo-grid-container" 
            style="grid-auto-columns: auto; min-width: 300px"
            *ngFor="let combo of comboData; let i = index"
          >
            <div class="combo-card">
              <ion-card class="collage-card" (click)="goToComboPage(combo.id)">
                <div class="collage-images">
                  <div class="image-container">
                    <img [src]="combo.images[0]" alt="Image 1" />
                  </div>
                  <div class="image-container">
                    <img [src]="combo.images[1]" alt="Image 2" />
                  </div>
                  <div class="image-container">
                    <img [src]="combo.images[2]" alt="Image 3" />
                  </div>
                  <div class="image-container">
                    <img [src]="combo.images[3]" alt="Image 4" />
                  </div>
                </div>
                <ion-card-header>
                  <ion-card-title>{{ combo.name }}</ion-card-title>
                </ion-card-header>
              </ion-card>
            </div>
            <div
              class="col-md-1"
              *ngIf="
                (i + 1) % 4 === 0 &&
                comboData.length > 4 &&
                i + 1 !== comboData.length
              "
            ></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ion-content>
