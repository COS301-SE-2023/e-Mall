<ion-header>
  <ion-toolbar color="primary" class="navbar">
    <div class="flex-container">
      <div class="toolbar-button">
        <a class="navbar-brand">
          <img
            class="navbar-logo"
            src="assets/images/logo-black-no-bg.png"
            alt="e-Mall logo"
            (click)="redirect('home')" />
        </a>
      </div>

      <ion-buttons slot="start">
        <ion-button class="toolbar-button" (click)="toggleCategory($event)">
          <span class="label">All Categories</span>
          <ion-icon
            *ngIf="!isCategoryOpened"
            name="chevron-down"
            class="arrow"></ion-icon>
          <ion-icon
            *ngIf="isCategoryOpened"
            name="chevron-up"
            class="arrow"></ion-icon>
        </ion-button>
      </ion-buttons>
      <app-search-bar class="search-bar"></app-search-bar>
      <div class="navbar-spacer"></div>
      <div class="button-container">
        <ion-button
          (click)="combos($event)"
          class="wishlist-button"
          shape="round"
          fill="clear"
          mode="ios">
          <ion-icon [name]="'notifications'" style="color: black"></ion-icon>
          <!-- <span class="notification-badge" *ngIf="notificationCount">{{
            notificationCount
          }}</span> -->
          <ion-badge *ngIf="notificationCount">{{
            notificationCount
          }}</ion-badge>
        </ion-button>
        <ion-button
          (click)="combos($event)"
          class="bookmark-button"
          shape="round"
          fill="clear"
          mode="ios">
          <ion-icon [name]="'bookmark'" style="color: black"></ion-icon>
        </ion-button>

        <div class="authButton">
          <button
            mat-button
            class="toolbar-button"
            *ngIf="(isAuthenticated | async) === null"
            (click)="signIn()">
            Sign in
          </button>
          <div
            *ngIf="(isAuthenticated | async) !== null"
            style="margin-top: 5px"
            (click)="openPopover($event)">
            <ion-icon
              name="person-circle-sharp"
              aria-hidden="true"
              class="circular-button"></ion-icon>
          </div>
        </div>
      </div>
    </div>
  </ion-toolbar>
</ion-header>
