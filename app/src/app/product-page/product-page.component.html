<!DOCTYPE html>

<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Product Page</title>

    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <link
      rel="stylesheet"
      type="text/css"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
      crossorigin="anonymous" />
  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark upperNav">
      <a class="navbar-brand" routerLink="/">
        <img
          class="navbar-logo"
          src="assets/images/logo.png"
          alt="e-Mall logo"
          width="70"
          height="60" />
      </a>

      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item dropdown">
            <a
              class="nav-link dropdown-toggle"
              routerLink="/construction"
              id="navbarDropdownMenuLink"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false">
              All Categories
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/construction">Expert Reviews</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/construction">Sale</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/construction">Guides</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/construction">How to use</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/construction">About Us</a>
          </li>
        </ul>
      </div>

      <form class="form-inline flex-grow-1">
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text">
              <i class="fa-sharp fa-solid fa-magnifying-glass search-icon"></i>
            </span>
          </div>
          <input
            class="form-control search-input"
            type="search"
            placeholder="Search Products"
            aria-label="Search" />
        </div>
      </form>

      <button
        class="btn btn-outline-dark my-2 my-sm-0 ms-auto"
        type="submit"
        routerLink="/sign-in">
        Sign in
      </button>
    </nav>

    <div class="container-fluid body-container">
      <div class="container-fluid prices" id="prices">
        <div class="row product-img-info-container">
          <div class="col-sm-4 col-md-4 col-lg-4 mini-imgs-container">
            <div
              class="mini-imgs-small-container"
              *ngFor="
                let img of getImgs((product$ | async)?.min_price_img_array)
              ">
              <div>
                <img [src]="img" alt="Product Image" class="img-fluid w-100" />
              </div>
            </div>
          </div>

          <div class="col-sm-4 col-md-4 col-lg-4 main-img-container">
            <div class="main-img-small-container">
              <div class="heart-container">
                <button class="btn btn-circle btn-light">
                  <i class="fa fa-heart-o heart" aria-hidden="true"></i>
                </button>
              </div>
              <div>
                <img
                  [src]="getOneImg((product$ | async)?.min_price_img_array)"
                  alt="Product Image"
                  class="img-fluid w-100" />
              </div>
            </div>
          </div>

          
          <div class="col-sm-4 col-md-4 col-lg-4 upper-product-info-container">
            <div
              class="upper-product-info-small-container"
              *ngIf="product$ | async as product">
              <h2>{{ product.brand }}</h2>
              <p>{{ product.description }}</p>
              <p>
                Compare prices from <b>R{{ product.min_price }}</b>
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="container-fluid lower-body-container">
        <nav
          class="navbar navbar-expand-lg navbar-light bg-light sticky-top lowerNav">
          <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link">Prices</a>
              </li>
              <li class="nav-item">
                <a class="nav-link">Reviews & tests</a>
              </li>
              <li class="nav-item">
                <a class="nav-link">Statistics</a>
              </li>
              <li class="nav-item">
                <a class="nav-link">Product information</a>
              </li>
            </ul>
          </div>
        </nav>

        <div class="container-fluid filters">
          <div class="row">
            <div class="col-sm-2 col-md-2 col-lg-2">
              <div class="filter">
                <i class="fa fa-filter" aria-hidden="true"></i>
              </div>
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2">
              <div class="only-in-stock">
                <span><i class="fa-solid fa-cube" aria-hidden="true"></i></span>
                Only in stock
              </div>
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2">
              <div class="price-incl-delivery">
                <span><i class="fa-solid fa-truck" aria-hidden="true"></i></span
                >Price inc. delivery
              </div>
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2">
              <div class="delivery-opt">
                Delivery Options
                <span
                  ><i class="fa-solid fa-chevron-down" aria-hidden="true"></i
                ></span>
              </div>
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2 d-flex justify-content-end">
              <div class="lowest-price ml-auto">
                Lowest Price
                <span
                  ><i class="fa-solid fa-chevron-down" aria-hidden="true"></i
                ></span>
              </div>
            </div>
          </div>
        </div>
        <ng-container *ngIf="sellers$ | async as sellers">
          <div
            *ngFor="let seller of sellers"
            class="container-fluid comp-products">
            <div class="row drop-d-sellerName-container">
              <div class="col-sm-3 col-md-3 col-lg-3 dropdown-arrow">
                <span class=""
                  ><i class="fa-solid fa-chevron-down" aria-hidden="true"></i
                ></span>
              </div>
              <div class="col-sm-9 col-md-9 col-lg-9 seller-name">
                <span class="">{{ seller.business_name }}</span>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12 col-md-12 col-lg-12 product-name">
                {{ seller.product_name }}
                <span class="product-name-price">{{ seller.price }}</span>
              </div>
            </div>

            <!-- <div class="drop-d-sellerName-container">
              <span class="dropdown-arrow"
                ><i class="fa-solid fa-chevron-down" aria-hidden="true"></i
              ></span>
              <span class="seller-name">{{ seller.business_name }}</span>
            </div>
            <div class="product-name">
              {{ seller.product_name }}
              <span class="product-name-price">{{ seller.price }}</span>
            </div> -->
          </div>
        </ng-container>
        <!--<div class="container-fluid related-products" *ngIf="products">
          <h3>Related Products</h3>
          <div class="row">
            <div class="col-sm-3 col-md-3 col-lg-3">
              <div class="card" style="width: 18rem">
                <img
                  [src]="products[6].img"
                  alt="Product Image"
                  class="card-img-top related-product-img" />
                <div class="card-body">
                  <h5 class="card-title">{{ products[6].brand }}</h5>
                  <h6 class="card-subtitle mb-2 text-body-secondary">
                    {{ products[6].description }}
                  </h6>
                  <p class="card-text">R{{ products[6].min_price }}</p>
                </div>
              </div>
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3">
              <div class="card" style="width: 18rem">
                <img
                  [src]="products[17].img"
                  alt="Product Image"
                  class="card-img-top related-product-img" />
                <div class="card-body">
                  <h5 class="card-title">{{ products[17].brand }}</h5>
                  <h6 class="card-subtitle mb-2 text-body-secondary">
                    {{ products[17].description }}
                  </h6>
                  <p class="card-text">R{{ products[17].min_price }}</p>
                </div>
              </div>
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3">
              <div class="card" style="width: 18rem">
                <img
                  [src]="products[19].img"
                  alt="Product Image"
                  class="card-img-top related-product-img" />
                <div class="card-body">
                  <h5 class="card-title">{{ products[19].brand }}</h5>
                  <h6 class="card-subtitle mb-2 text-body-secondary">
                    {{ products[19].description }}
                  </h6>
                  <p class="card-text">R{{ products[19].min_price }}</p>
                </div>
              </div>
            </div>
          </div>
        </div> -->

        <div class="container-fluid reviews" id="reviews">
          <h3>Reviews</h3>
          <div class="row">
            <div class=" col-sm-7 col-md-7 col-lg-7 reviews-info-container">

              <!------------------------------------------ reviews------------------------------------------------>
              <p><span><i class="fa-solid fa-star overall-star"></i></span><b> 4.7</b> (from 4,703 reviews) </p>
              <p>Let us know your thoughts on a product or view reviews from others. Please note that e-Mall does not verify whether the user has used or purchased the product.</p>
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2 show-all">
              <a routerLink="./construction"><B>Show all</B></a>
            </div>
          </div>
          
          <div class="row review-row">
            <div class="col-sm-3 col-md-3 col-lg-3 reviews-cols">
              <div class="review">
                <div class="row">
                  <div class="col-sm-2 col-md-2 col-lg-2 reviews-cols">
                    <div class="S-initial"><span><b>S</b></span></div>
                  </div>
                  <div class="col-sm-6 col-md-6 col-lg-6 reviews-cols">
                    <div class="reviewer-name">
                      <h6>Samu</h6>
                      <p>2 months ago</p>
                    </div>
                    
                  </div>
                  <div class="col-sm-4 col-md-4 col-lg-4 reviews-cols">
                    <div class="reviewer-star-container">
                      <span><i class="fa-solid fa-star reviewer-star"></i></span><b>3</b>
                    </div>
                  </div>
                </div>
                <p class="review-words">I'm really impressed with this product. It exceeded my expectations and works flawlessly! </p>
              </div>
            </div>

            <div class="col-sm-3 col-md-3 col-lg-3 reviews-cols">
              <div class="review">
                <div class="row">
                  <div class="col-sm-2 col-md-2 col-lg-2 reviews-cols">
                    <div class="J-initial"><span><b>J</b></span></div>
                  </div>
                  <div class="col-sm-6 col-md-6 col-lg-6 reviews-cols">
                    <div class="reviewer-name">
                      <h6>Jane</h6>
                      <p>1 month ago</p>
                    </div>
                  </div>
                  <div class="col-sm-4 col-md-4 col-lg-4 reviews-cols">
                    <div class="reviewer-star-container">
                      <span><i class="fa-solid fa-star reviewer-star"></i></span><b>5</b>
                    </div>
                  </div>
                </div>
                <p class="review-words">I've been using this product for a while now, and I can't imagine my life without it. Highly recommended! </p>
              </div>
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3 reviews-cols">
              <div class="review">
                <div class="row">
                  <div class="col-sm-2 col-md-2 col-lg-2 reviews-cols">
                    <div class="SD-initial"><span><b>SD</b></span></div>
                  </div>
                  <div class="col-sm-6 col-md-6 col-lg-6 reviews-cols">
                    <div class="reviewer-name">
                      <h6>Sam Day</h6>
                      <p>4 months ago</p>
                    </div>
                  </div>
                  <div class="col-sm-4 col-md-4 col-lg-4 reviews-cols">
                    <div class="reviewer-star-container">
                      <span><i class="fa-solid fa-star reviewer-star"></i></span><b>4</b>
                    </div>
                  </div>
                </div>
                <p class="review-words">I've tried several similar products, but this one stands out from the rest. It's reliable, easy to use, and delivers consistent results. </p>
              </div>
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3 reviews-cols">
              <div class="review">
                <div class="row">
                  <div class="col-sm-2 col-md-2 col-lg-2 reviews-cols">
                    <div class="TT-initial"><span><b>TK</b></span></div>
                  </div>
                  <div class="col-sm-6 col-md-6 col-lg-6 reviews-cols">
                    <div class="reviewer-name">
                      <h6>Thabiso Thaka</h6>
                      <p>2 months ago</p>
                    </div>
                  </div>
                  <div class="col-sm-4 col-md-4 col-lg-4 reviews-cols">
                    <div class="reviewer-star-container">
                      <span><i class="fa-solid fa-star reviewer-star"></i></span><b>5</b>
                    </div>
                  </div>
                </div>
                <p class="review-words">This product has made my life so much easier. It simplifies tasks and saves me valuable time. Highly satisfied!</p>
              </div>
            </div>
          </div>

          <button
            class="btn btn-outline-dark my-2 my-sm-0 ms-auto post-review"
            type="submit"
            routerLink="/construction">
            <span><i class="fa-solid fa-pen"></i></span>
              Post a review
          </button>
        </div>

        <!--
        <div class="container-fluid statistics" id="statistics">
          <h3>Statistics</h3>
        </div>
      -->
      
        <div class="container-fluid full-product-info" id="full-product-info">
          <h3>Products Information</h3>
          <ng-container *ngIf="sellers$ | async as sellers">
            <div
              *ngFor="let seller of sellers; let i = index">
            </div>
          
          <div *ngIf="product$ | async as product">
            <p>
              Lowest price for {{product.brand}} is <b>R{{ product.min_price }}</b> this is currrently the lowest price out of {{sellers.length}} stores
            </p>

            <p><b>{{product.brand}}</b></p>
            <p>{{product.description}}</p>
            <p>{{product.brand}} is just the thing you need to listen to your favorite podcast. They connect cord-free via Bluetooth and with active noise cancelling you get some peace and quiet in the busy office landscape.</p>
            <ul>
              <li>Active noise cancelling</li>
              <li>Completely wireless design</li>
              <li>Connects wirelessly</li>
              <li>Six hours of battery life</li>
              <li>Built-in microphone for phone calls</li>
              <li>Simple design</li>

            </ul>
          </div>
        </ng-container>
        </div>

        <!--
        <div *ngIf="product">
          <h1>{{ product[0].brand }}</h1>
          <img [src]="product[0].img" alt="Product Image">
        </div>
      -->

        <footer class="footer">
          <div class="container">
            <div class="row">
              <div class="col-md-3">
                <img
                  class="welcomeMsg_logo_footer"
                  src="assets/images/logo.png"
                  alt="e-Mall logo" />
              </div>
              <div class="col-md-3">
                <h5>e-Mall</h5>
                <ul class="list-unstyled">
                  <li><a routerLink="/construction">About us</a></li>
                  <li><a routerLink="/construction">Contact </a></li>
                </ul>
              </div>
              <div class="col-md-3">
                <h5>Learn More</h5>
                <ul class="list-unstyled">
                  <li><a routerLink="/sign-up">Get started</a></li>
                  <li><a routerLink="/construction">Our App</a></li>
                  <li>
                    <a routerLink="/construction">Policies and privacy</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-3">
                <h5>Partners & Advertisers</h5>
                <ul class="list-unstyled">
                  <li><a routerLink="/register">Register your shop</a></li>
                  <li><a routerLink="/construction">Merchant Dashboard</a></li>
                  <li><a routerlink="/construction">Avertising</a></li>
                </ul>
              </div>
            </div>
            <div class="row icons">
              <div class="col-md-3">
                <p>Copyright © 2023 e-Mall</p>
              </div>

              <div class="col-md-3"></div>
              <div class="col-md-3">
                <a routerLink="#"
                  ><i class="fa fa-facebook-square fa-2x" aria-hidden="true"></i
                ></a>
              </div>
              <div class="col-md-3">
                <a routerLink="#"
                  ><i class="fa fa-linkedin-square fa-2x" aria-hidden="true"></i
                ></a>
              </div>
            </div>
          </div>
        </footer>
      </div>
    </div>
  </body>
</html>
